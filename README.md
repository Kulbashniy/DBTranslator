# DBTranslator
Набор модулей для работы с ram, xdb и dbd представлениями. Перенос данных из формата MS SQL Server в PostgreSQL.

# Структура проекта
## Директория data_transfering/
Содержит файл data_transfering.py - в котором хранится класс для переноса данных из одной БД в другую.
## Директория db/
Содержит:
* config.py - содержащий строки подключения к MSSQL и PostgreSQL. Результирующие пути и путь к исходным данным
* mssql_queries.py - хранящий подготовленные запросы для работы с БД MSSQL. (Защита от sql-инъекции)
* postgres_util.py - содержащий функцию определения домена для PosgreSQL
* sqllite_ddl_init.py - хранящий подготовленные запросы для создания пустой БД SQLLite. (Защита от sql-инъекции)
* sqllite_queries.py - хранящий подготовленные запросы для работы с БД SQLLite. (Защита от sql-инъекции)
## Директория modules/
Содержит модули для работы программы, модули представлены поддерикториями **dbd_module**, **ram_module**, **xml_module**.
### Поддериктория dbd_module/
Содержит:
* dbd2ram.py - содержащий класс для перевода из dbd представления в ram.
* mssql2ram.py - содержащий класс для перевода из dbd представления формата MSSQL в ram.
### Поддериктория ram_module/
Содержит:
* ram2dbd.py - содержащий класс для перевода из ram представления в dbd.
* ram2dbd_postgres.py - содержащий класс для перевода из 
* ram2xml.py - осуществляет перевод из ram представления в xml.
* ram_structure.py - содержит в себе структуру классов со свойствами. 
### Поддекритория xml_module/
* xml2ram.py - осуществляет перевод из xml представления в ram.
## Директория resourses/
Содержит файлы задания **pjadm.xdb.xml** и **tasks.xml**
## Директория test/ 
Содержит файл **test.py**, который сравнивает результирующие файлы с исходными.
## Директория utils/
Содержит в себе 3 файла:
* exceptions.py - обработчик ошибок и исключений
* minidom_fixed.py - служит для исправления недостатка модуля **xml.dom.minidom**, состоящего в том, что **xml.dom.mindom.Document.writexml** не сохраняет последовательность атрибутов тэга.
* writer.py - служит для записи xml файлов. 
## Файлы корневой директории:
* dbd2xml.py - запускает процессы преобразования db файла в xml.
* init_pgdb.py - создает Postgresql БД с необходимой структурой. 
* mssql2pg.py - загружает данные из Mysql, создает postgresql базу данных, заносит данные в Postgresql БД.
* xml2dbd.py - запускает процессы преобразования xml  в dbd.(изменено)

